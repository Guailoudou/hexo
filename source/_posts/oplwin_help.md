---
title: 联机工具常见问题
date: 2024-07-12 17:06:46
tags: 
- 教程
- 联机
- 文档
---
# 联机工具常见问题
本文档为[opl联机工具](/2024/04/19/opl_ui/)常见问题自查文档

mc联机遇到报错可以自查，可以通过`ctrl+f`搜索报错的尾部几个单词以快速找到解决方法，不知道如何mc联机先看[这个](/2024/04/22/opl_mc/)

目录（详细目录见左边侧边栏，没有请拉宽窗口）
- [联机工具问题](#联机工具问题)
- [MC相关问题](#MC相关问题)
## 联机工具问题

### 软件无法正常运行打开
该软件基于.NET Framework 4.7.2 版本，请确认系统已安装该版本或更高版本

对于win10版本号1803 及其以上版本，已内置

更低的系统版本，请先尝试直接下载其运行时离线安装包进行安装：[.NET Framework 4.7.2](https://dotnet.microsoft.com/zh-cn/download/dotnet-framework/net472)

若无法完成安装请根据以下内容按照需要自行安装

Windows 10 周年更新 (版本 1607) 、Windows 10 创意者更新 (版本 1703) 和 Windows Server 2016 中，需要安装系统更新[KB4054590](https://www.catalog.update.microsoft.com/Search.aspx?q=KB4054590)

Windows 10 Fall Creators Update (版本 1709) 中，需要安装系统更新[KB4073120](https://www.catalog.update.microsoft.com/Search.aspx?q=KB4073120)

Windows 7 需要安装根证书[MicrosoftRootCertificateAuthority2011](MicrosoftRootCertificateAuthority2011.cer)以及系统更新[KB3033929](https://www.microsoft.com/zh-cn/download/details.aspx?id=46148)后再安装[.NET Framework 4.7.2](https://dotnet.microsoft.com/zh-cn/download/dotnet-framework/net472)

### 左下角版本号旁状态灯一直黄色
请检查是否为最新版本，非最新版可能出现无法连接节点的可能

如果有福建地区玩家，请都使用备用节点，节点在设置中切换。（福建部分地区网络为白名单网络，无法连接到主节点）

### 联机工具隧道长时间黄灯
原因：隧道打洞失败，在持续尝试打洞

解决方法：继续等待，或尝试更换网络，更换网络后重新打开联机工具，请注意启动的时候日志谁提示了连接受限制

如果有其他玩家已经连接成功，可以尝试将uid更换为已经连接成功用户的uid（连接的同一个房主，详细见下方*小技巧*）

再不行可以尝试使用组网二模式，详细见下方[组网的使用方法](#组网使用方法)

一般来说三大运营商连接都说没问题的，二级运营商很难打洞成功（非三大运营商均为二级运营商 国内有且仅有`电信` `联通` `移动`为一级运营商，其余运营商均为二级，即购买一级运营商宽带网络进行二手转卖）

**小技巧**：opl隧道模式可以串连，即b连接a,c连接b，这个情况下都连接的a，c的uid填b的uid，远程端口需与b的本地端口一致（b已经成功连接a的情况下有效）

### 组网的使用方法

组网2(easytier)：任意一人点击创建网络，复制他的网络ID(与uid相同)，其他人在下方连接网络处填入uid加入即可，左边栏目会显示连接到同一房间的用户，第一个固定为自己，上面会有一个ip，使用房主的`ip:端口`添加服务器，刷新出状态后进入即可（组网模式下，无局域网发现）

组网而有时候官方节点会故障，表现为启动后不出现ip信息，可以前往[公共节点目录](https://easytier.gd.nkbpal.cn/)寻找有效节点，填入节点中使用 (尽量选择可中转的节点)

注意节点应该填写为 tcp://ip:端口的形式 如：`tcp://8.148.29.206:11010` `tcp://public.easytier.top:11010`

不建议使用组网1，过于鸡肋

### 提示对方不在线

确保房主软件左下角版本号旁边的状态灯为绿色，同时检查uid是否正确.

确认是否使用相同节点，需要在相同节点的才可以互联，于设置中变更节点.

最好等房主版本号后状态灯变绿后其他用户再启动.

### 提示本地端口被占用

点击编辑，更换对应本地端口（比如+1 或 -1）

### 软件启动一段时间后自动关闭

目前未找到具体有效解决方法，触发条件也未知，且无法复现（我自己没触发过一次），暂无法修复，请自行尝试重启，或入群获取测试文件进行测试

### 安装包版本更新后无法打开/回溯老版
原因：安装包版本更新时概率异常

解决方法：该异常暂无法解决，请直接于控制面板卸载opl，重新下载最新的，暂不再提供安装包版

隧道/uid迁移：保存之前安装目录下的bin/config.json文件，后复制至新安装目录下的bin/config.json文件

### 添加白名单/报毒/无法启动
原因：内网穿透类软件常被黑客用于攻击企业内网，因此常常被报毒

Windows安全中心->病毒和威胁防护->“病毒和威胁防护”设置->管理设置->排除项->添加或删除排除项->添加排除项->文件夹 选择安装目录中的bin文件夹

如果添加后启动依然提示被拦截，请进行如下尝试

Windows安全中心->应用和浏览器控制->智能应用控制设置->关闭

### 什么是共享带宽

共享带宽是共享给别人的，当其他用户p2p连不上，而他们都可以与你进行p2p连接时，他们将通过你中转数据，而这中转的数据带宽上限就是你设置的共享带宽，建议保持默认值即可，一般来说只有nat1是有效共享

### Windows无法访问指定设备、路径或文件。你可能没有适当的权限访问该项目。

原因：系统权限不足

解决方法：法1-移动到D盘或其他非C盘打开    法2-参考 [链接](https://blog.csdn.net/datarecover/article/details/128947235) 提权

ps：狗系统，我自己电脑我没权限操作🙃
## MC相关问题

### 登入失败，无效的会话

原因：正版验证导致的

解决方法：**都**使用外置登录或加[自定义局域网联机](https://www.mcmod.cn/class/2754.html)或类似mod关闭验证（使用外置登录可不关闭正版验证，需要统一登录方式）

ps：个人推荐外置登录，还能加载皮肤披风，以下为设置外置登录的方法

- pcl ：版本设置->设置->服务器->登录方式->第三方登录：AuthlibInjector或LittleSkin->设置为littleskin->返回主页注册或登录
- hmcl ：账户 -> 选择littleskin(没有点下面添加认证服务器，填入https://littleskin.cn/api/yggdrasil) -> 注册或登录

ps：这个问得太多了，放mc第一个了还是好多人问🙃

如何理解正版验证：

正版验证像一把锁，只有用正确的钥匙（正版登录）才能进去。

外置登录（第三方验证服务器）相当于换了锁芯，需要用特别的钥匙（同验证服务器的外置登录）才能进去。

加Mod关闭验证就相当于把锁拆掉，任何人都可以直接进去。

### 未知主机

原因：ip格式错误

解决方法：注意IP中间的`:`需要使用英文键盘，不是`：` 

如：应该是`127.0.0.1:25565` 而不是 `127.0.0.1：25565`

ps：为什么不直接复制呢，不是有一个复制按钮吗

### 多人游戏找不到世界

检查软件隧道状态灯是否为绿色

如果为绿色多人游戏无局域网世界显示，自行添加服务器

于隧道页面点击复制，复制到ip后到游戏 多人游戏->添加服务器 ctrl+v粘贴即可

### 可以使用其他启动器吗？

可以，使用什么启动器和联机工具没关系，只是pcl更加无脑，所以视频才演示的pcl

### Invalid characters in username

进入报错 `Internal Exception:javalang.IllegalStateException:Invalid characters in username`

原因：用户名不合规

解决方法：更改用户名，要求仅可出现英文大小写，数字，英文下划线，3-16位，**不可使用中文用户名** [详细见Minecraft玩家ID命名规范](#Minecraft玩家ID命名规范)

### Connection refused: getsockopt

连接还未建立完成，可添加服务器ip刷新服务器列表，刷新出服务器状态再进

能刷新出服务器状态即表明已成功与房主通讯

### MC连接中断/连接超时/进入世界后秒退

添加服务器ip刷新，确认能否刷新出服务器状态，以确认是否存在网络问题，能正常刷出服务器状态，说明与服务器（房主）通讯是正常的

如果不正常，请先查看隧道状态灯是否为绿色，请等待为绿色再尝试，如果是绿色，尝试点击编辑，顺便更换一个本地端口，再尝试重新连接

请再排查mod列表，确认双方mod是否一致

如果能进去然后过会再掉，尝试房主把渲染距离和模拟距离调到最低，其他人完全进去后再调回来

如果确认以上问题不存在，请排查游戏日志，查看在玩家进入世界的时候是否报错，报错请自行翻译报错，可自行将报错文件尾缀改为txt后发送给ai分析问题（房主与玩家日志均需要排查，发给ai时候请同时发送双方日志）

mc日志文件位于版本文件夹的`logs\latest.log` （这是当前日志，即最近一次的日志，之前的日志已自动打包为压缩文件）

### 进入世界无限掉虚空
尝试房主把渲染距离和模拟距离调到最低，其他人完全进去后再调回来

### 联机皮肤不显示

原因：关闭正版验证之后不连接验证服务器了，皮肤的验证服务器传递的

解决方案：开启正版验证或加万用皮肤补丁mod 

ps：推荐直接外置登录，在皮肤站设置皮肤就行了


### 软件连接成功但进不去游戏

确保输入ip正确，特别是其中的`:`不是`：` 

添加服务器，刷新出现服务器信息再进，进不去请自行翻译报错，翻译报错可解决50%问题。

翻译后无法解决请尝试多次进入，查看报错是否相同，相同请检查mod兼容性问题，网查报错原因

### 聊天消息验证失败
一般出现在1.19.1以上版本

解决方法：安装禁用聊天举报mod [相关链接](https://www.mcmod.cn/class/6756.html)

### Index *** out of bounds for length ***
原因：程序访问超出数组长度的索引（一般属于编程错误）

存在2种可能：
1. 用户名长度过长，正常用户名长度应该不超过16位，并且不应该出现中文
2. 某个mod存在漏洞，这个报错属于编程错误，请查看游戏日志，检查玩家进入时的报错，移除相关mod，有能力的话请反馈给mod开发者

### 数据包过大/异常/损坏
可能的报错：
- 读取过大的 NBT 标签时被踢出，并提示“Tried to read NBT tag that was too big; tried to allocate: Xbytes where max allowed: 2097152”；
- 压缩后的数据包过大被踢出，并提示“Badly compressed packet - size of X is larger than protocol maximum of 2097152”；
- 发包过大被踢出，并提示“Attempted to send packet over maximum protocol size: 8388608 / Packet too big (is X, should be less than 8388608)”；
- Payload 过长被踢出，并提示“Payload may not be larger than X bytes”。

解决方法：安装mod [Packet Fixer](https://www.mcmod.cn/class/12625.html)

### Minecraft玩家ID命名规范
在《我的世界》（Minecraft）中，玩家ID（或称用户名）的命名必须遵循以下规则 （网易中国版除外）

不符合规则的玩家ID可能无法进行联机。

玩家ID只能包含以下几种字符：

- 英文字母（大写A-Z，小写a-z）
- 数字（0-9）
- 下划线（_）

玩家ID必须在3-18字符之间